# A股行情助手 📈

一个轻量级的Chrome浏览器插件，用于实时查看A股股票涨跌情况。工作摸鱼时看股票的必备神器！

## 功能特性

- 🔥 **实时行情**: 显示上证指数、深证成指、创业板指、沪深300等主要指数
- 📊 **自选股票**: 支持添加/删除任意A股股票，个性化关注列表
- 🎯 **批量添加**: 支持一次性添加多只股票，用逗号分隔代码
- 🎨 **双重视图**: 支持块状和列表两种显示模式切换
- 🔄 **拖拽排序**: 支持通过拖拽调整自选股票的显示顺序
- 🏷️ **智能名称**: 通过多个API自动获取正确的股票中文名称
- 🎨 **精美界面**: 现代化UI设计，涨跌颜色区分
- ⚡ **快速刷新**: 30秒自动刷新，支持手动刷新
- 💾 **数据持久**: 自定义股票列表本地保存
- 🚀 **轻量级**: 占用资源少，不影响浏览器性能

## 如何使用

### 批量添加股票
在搜索框中输入多个股票代码，用逗号分隔：
```
600519,000858,300750,002594
```
点击"批量添加"即可一次性添加茅台、五粮液、宁德时代、比亚迪等多只股票。

## 安装方法

### 方法一：开发者模式安装

1. 打开Chrome浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目文件夹
6. 插件安装完成！

### 方法二：打包安装

1. 在扩展程序页面点击"打包扩展程序"
2. 选择项目目录，生成.crx文件
3. 将.crx文件拖拽到扩展程序页面安装

## 使用方法

1. **查看行情**: 点击浏览器工具栏中的插件图标
2. **添加股票**: 
   - 单个添加：输入6位股票代码（如：600519）
   - 批量添加：输入多个代码用逗号分隔（如：600519,000858,300750）
3. **切换视图**: 点击"块状"/"列表"按钮切换显示方式
4. **拖拽排序**: 拖拽股票卡片左侧的"⋮⋮"图标调整显示顺序
5. **删除股票**: 鼠标悬停在股票项上，点击右上角的"×"按钮
6. **刷新数据**: 点击右上角的刷新按钮或等待自动刷新

## 技术实现

- **数据源**: 新浪财经API (hq.sinajs.cn) + 腾讯财经API (qt.gtimg.cn) 双重保障
- **名称获取**: 新浪搜索API (suggest3.sinajs.cn) 自动获取股票中文名称  
- **存储**: Chrome本地存储API
- **架构**: Manifest V3，Service Worker后台
- **交互**: HTML5 拖拽API实现排序功能
- **样式**: 现代CSS，响应式设计

## 股票代码规则

- 上海A股：以6开头的6位数字（如：600519）
- 深圳A股：以0或3开头的6位数字（如：000001, 300015）

## 注意事项

1. 插件仅显示股票价格信息，不构成投资建议
2. 数据更新有延迟，请以官方平台为准
3. 仅限股票工作时间内使用，非交易时间显示收盘价
4. 需要网络连接才能获取最新数据

## 开发说明

### 项目结构
```
marketExtentions/
├── manifest.json          # 插件配置
├── popup.html             # 弹出窗口HTML
├── popup.css              # 样式文件
├── popup.js               # 主要逻辑
├── background.js          # 后台脚本
├── README.md              # 说明文档
└── icons/                 # 图标文件夹
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

### 数据格式

腾讯API返回格式：
```
v_sh000001="1~上证指数~000001~3000.12~-12.34~-0.41~123456~567890~..."
```

解析后的数据结构：
```javascript
{
  name: "上证指数",
  price: 3000.12,
  change: -12.34,
  changePercent: -0.41,
  volume: "123456",
  turnover: "567890"
}
```

## 常见问题

**Q: 为什么股票显示代码而不是中文名称？**
A: 插件使用多个API确保名称正确显示。如果偶尔出现代码，刷新一下即可。控制台日志会显示详细的解析过程。

**Q: 为什么显示"获取数据失败"？**
A: 请检查网络连接，或者稍后再试。插件会自动尝试新浪和腾讯两个API作为备用。

**Q: 数据更新频率是多少？**
A: 默认30秒自动刷新一次，也可以手动点击刷新按钮。

**Q: 如何调整股票显示顺序？**
A: 拖拽股票卡片左侧的"⋮⋮"图标即可调整顺序，位置会自动保存。

**Q: 插件会占用很多内存吗？**
A: 不会，插件采用轻量级设计，界面紧凑，仅在需要时获取数据。

## 版本历史

- **v1.1** (最新)
  - 🔧 改进中文解析：使用多编码方式确保股票名称正确显示
  - 📊 修复涨跌计算：优化价格和涨跌幅计算逻辑
  - 🎨 紧凑界面：缩小间距，提升显示密度
  - 🔄 拖拽排序：支持通过拖拽调整股票显示顺序
  - 🏷️ 智能名称：通过多API自动获取准确的股票中文名称

- **v1.0** (2024-01-01)  
  - 基础功能实现
  - 支持主要指数和个股查看
  - 自定义股票添加/删除

## 许可证

MIT License

## 免责声明

本插件仅用于学习和娱乐目的，所显示的股票价格仅供参考，不构成任何投资建议。投资有风险，入市需谨慎。 